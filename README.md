# Desktop Aim Trainer - FPS 瞄准训练器

一款专为 FPS 玩家设计的 Windows 桌面悬浮型瞄准训练工具，让你在工作摸鱼时也能保持手感！

## 🎯 创作背景

作为一名 FPS 游戏爱好者，你是否遇到过这样的困扰：
- 工作间隙想练练手感，但打开游戏太显眼？
- 午休时间想保持瞄准精度，但不想被同事发现？
- 需要一款低调的训练工具，既能提升技术又不影响工作？

**Desktop Aim Trainer** 应运而生！它巧妙地伪装成桌面图标，让你在真实桌面环境中进行瞄准训练，既能保持手感，又不会被发现。真正的"摸鱼神器"！

## ✨ 功能特性

### 核心功能
- ✅ **两种训练模式**：按量训练（Count Mode）和按时间训练（Time Mode）
- ✅ **真实桌面环境**：靶子伪装为桌面图标（回收站、文件夹、文档等），训练发生在真实桌面
- ✅ **Click-through 窗口**：不拦截鼠标操作，不影响正常工作
- ✅ **系统图标支持**：自动获取 Windows 系统默认图标，无需手动添加资源
- ✅ **智能靶子生成**：核心区+余光区权重分布，模拟真实瞄准场景
- ✅ **多语言支持**：支持简体中文和英文，界面可随时切换

### 便捷功能
- ✅ **全局快捷键支持**：ESC/F6/F7 快速操作，无需切换窗口
- ✅ **系统托盘常驻**：最小化到托盘，低调运行
- ✅ **一键快速开始**：F7 使用上次配置快速开始训练
- ✅ **训练统计**：实时记录命中率、耗时等数据

### 训练模式详解

#### 📊 按量训练（Count Mode）
- 设置目标命中数量
- 必须命中当前靶子才会生成下一个
- **统计指标**：命中数、总耗时、平均单靶耗时

#### ⏱️ 按时间训练（Time Mode）
- 设置训练总时长和单个靶子停留时间
- 超时未命中记为 Miss
- **统计指标**：命中数、Miss数、命中率、Hits/Minute

## 🛠️ 技术栈

- **.NET 8** + **WPF** - 现代化桌面应用框架
- **Win32 API (P/Invoke)** - 全局快捷键、Click-through窗口、系统图标获取
- **Windows Forms** - 系统托盘图标支持

## ⌨️ 快捷键

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| **ESC** | 终止训练 | 立即终止当前训练，清空所有靶子 |
| **F7** | 快速开始 | 使用上一次配置直接开始训练（不显示主界面） |
| **F6** | 查看结果 | 打开主界面查看上一次训练统计结果 |

> 💡 **提示**：训练开始后窗口会自动最小化到系统托盘，使用快捷键可以快速操作，无需打开主界面。

## 🎮 使用场景

### 工作摸鱼场景
1. **午休时间**：快速进行 5 分钟训练，保持手感
2. **工作间隙**：利用碎片时间进行瞄准练习
3. **会议等待**：在等待会议开始前进行短暂训练

### 训练建议
- **新手**：建议使用按量训练，设置 10-20 个目标，专注提升基础瞄准
- **进阶**：使用按时间训练，设置 60 秒，单个靶子停留 1.5-2 秒，提升反应速度
- **高手**：缩短靶子停留时间至 1 秒以下，挑战极限反应

## 🚀 快速开始

### 环境要求

#### 操作系统支持
- ✅ **Windows 11** - 完全支持（推荐）
- ✅ **Windows 10** - 完全支持
- ⚠️ **Windows 7 SP1+** - 理论上支持，但不推荐（需要安装 .NET 8 Runtime，且 Windows 7 已停止官方支持）

#### 运行时要求
- **.NET 8 Runtime**（如果只运行程序）
- **.NET 8 SDK**（如果从源码编译）

> 💡 **说明**：程序使用的 API（如 `SHGetStockIconInfo`、`SHGetFileInfo` 等）在 Windows 7+ 上都可用，理论上可以在 Windows 7 SP1+ 上运行。但由于 Windows 7 已停止官方支持，且 .NET 8 官方推荐 Windows 10+，建议使用 Windows 10 或 Windows 11。

### 运行方式

#### 方式一：直接运行（推荐）
1. 下载 `DesktopAimTrainer.exe`
2. 双击运行即可

#### 方式二：从源码编译
```bash
# 克隆或下载项目
git clone <repository-url>
cd DesktopAimTrainer

# 编译项目
dotnet build

# 运行项目
dotnet run
```

### 首次使用
1. 启动程序后，在主界面右上角选择语言（简体中文/English）
2. 配置训练参数（图标类型、训练模式、目标数量/时长）
3. 点击"开始训练"，窗口会自动最小化到系统托盘
4. 在桌面上移动鼠标到靶子图标上即可命中
5. 训练结束后按 **F6** 查看统计结果

## 🌐 多语言支持

程序支持简体中文和英文两种语言，可在主界面右上角的语言选择器中随时切换。切换语言后，所有界面文本会立即更新。

- **简体中文**：默认语言，适合中文用户
- **English**：英文界面，适合国际用户

> 💡 **提示**：语言设置会在当前会话中保持，重启程序后会恢复为系统默认语言。

## 🎨 图标系统

程序支持三种图标加载方式（按优先级排序）：

1. **资源文件**：优先从 `Resources` 文件夹加载 PNG 图标文件
2. **系统图标**：自动通过 Windows API 获取系统默认图标（推荐）
3. **占位符**：如果以上都失败，使用彩色方块作为占位符

### 支持的图标类型
- 🗑️ **回收站** - 系统回收站图标
- 📁 **新建文件夹** - 系统文件夹图标
- 📊 **Excel 文档** - Excel 文件图标
- 📝 **Word 文档** - Word 文件图标
- 📄 **文本文档** - 文本文件图标

> 💡 **提示**：程序会自动获取系统图标，无需手动添加资源文件。如需自定义图标，可将 PNG 文件放入 `Resources` 文件夹。

## ⚙️ 技术细节

### 靶子生成规则
- **纵向位置**：仅在屏幕纵向中央 30-40% 区域生成
- **横向分布**：
  - 核心区（25%-75%）：权重 70%，主要训练区域
  - 余光区（0-25% 和 75-100%）：权重 30%，补充训练
- **距离约束**：
  - 与上一个靶子保持最小 100 像素距离
  - 与当前鼠标位置保持最小 80 像素距离

### 命中判定
- 鼠标指针进入靶子矩形区域即判定命中
- 不需要鼠标点击，只需移动鼠标到靶子上
- Click-through 设计，不拦截底层应用操作

## 💻 系统兼容性

### 支持的 Windows 版本

| Windows 版本 | 支持状态 | 说明 |
|-------------|---------|------|
| **Windows 11** | ✅ 完全支持 | 推荐使用，所有功能正常 |
| **Windows 10** | ✅ 完全支持 | 所有功能正常，推荐使用 |
| **Windows 7 SP1+** | ⚠️ 理论支持 | 需要安装 .NET 8 Runtime，但 Windows 7 已停止官方支持，不推荐使用 |

### 使用的 API 兼容性

程序使用的 Windows API 都是通用 API，兼容性如下：
- `SHGetStockIconInfo` - Windows Vista+（Windows 7+ 支持）
- `SHGetFileInfo` - Windows 95+（所有版本支持）
- `SetWindowsHookEx` - Windows 95+（所有版本支持）
- 其他 Win32 API - 通用 API，Windows 7+ 都支持

### .NET 8 兼容性

- .NET 8 官方支持 Windows 7 SP1+，但**推荐 Windows 10+**
- Windows 7 已停止官方支持，建议升级到 Windows 10 或 Windows 11

## ⚠️ 注意事项

- **全局快捷键**：某些情况下可能需要管理员权限才能使用全局快捷键
- **多显示器**：当前版本仅支持单显示器（后续版本将支持多显示器）
- **桌面图标**：程序不识别真实桌面图标，可能与真实图标重叠（这是设计特性）
- **资源清理**：程序退出时会自动清理所有悬浮窗口和系统资源

## 🔒 隐私与安全

- ✅ 不操作真实桌面文件
- ✅ 不修改 Explorer 状态
- ✅ 不拦截鼠标点击
- ✅ 键盘 Hook 仅用于必要快捷键
- ✅ 所有数据仅保存在内存中，不记录历史

## 项目结构

```
DesktopAimTrainer/
├── App.xaml / App.xaml.cs          # 应用程序入口
├── MainWindow.xaml / MainWindow.xaml.cs  # 主界面
├── Win32Api.cs                      # Win32 API 封装
├── GlobalHotkeyManager.cs           # 全局快捷键管理
├── TargetWindow.cs                  # 靶子窗口
├── TargetGenerator.cs               # 靶子位置生成器
├── TrainingSession.cs               # 训练会话管理
├── TrainingMode.cs                  # 训练模式和配置
├── TrayIconManager.cs               # 托盘图标管理
├── LocalizationManager.cs           # 本地化管理器
├── LocalizationConverter.cs          # 本地化转换器
└── Resources/                       # 资源文件夹
    ├── Strings.resx                 # 中文资源
    └── Strings.en-US.resx           # 英文资源
```

## 📋 开发路线图

### ✅ 已完成（v1.0 MVP）
- [x] 单靶训练系统
- [x] 两种训练模式（按量/按时间）
- [x] 系统图标自动获取
- [x] 全局快捷键支持
- [x] 系统托盘常驻
- [x] 训练统计功能
- [x] 多语言支持（简体中文/英文）

### 🚧 计划中
- [ ] 声音定位系统（听声辨位训练）
- [ ] 训练历史记录
- [ ] 自定义靶子尺寸
- [ ] 更多图标类型选择

## 🤝 贡献

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

本项目仅供学习和个人使用。

---

**Made with ❤️ for FPS players who want to stay sharp during work hours**

---

## 📖 Language Versions

- **[简体中文](README_CN.md)** - Chinese version (完整中文文档)
- **[English](README_EN.md)** - English version (Full English documentation)

